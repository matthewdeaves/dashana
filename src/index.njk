---
layout: layouts/base.njk
permalink: /
eleventyComputed:
  title: "{{ config.viewNames.dashboard }}"
---

{% if not config.tabs.dashboard %}
<div class="page-disabled">
  <p>This view has been disabled in the configuration.</p>
  <a href="{{ pathPrefix }}/{% if config.tabs.board %}board/{% elif config.tabs.tasks %}tasks/{% elif config.tabs.timeline %}timeline/{% endif %}">Go to {% if config.tabs.board %}Board{% elif config.tabs.tasks %}Tasks{% elif config.tabs.timeline %}Timeline{% endif %}</a>
</div>
{% else %}
{% if tasks.error %}
<div class="error-banner" role="alert">
  <strong>Data Error:</strong> {{ tasks.error.message }}
  <p class="error-hint">{{ tasks.error.hint }}</p>
</div>
{% endif %}

<div class="dashboard">
  <div class="dashboard-header">
    <h2>{{ config.pageHeadings.dashboard }}</h2>
    <p class="dashboard-subtitle">{{ tasks.stats.total }} total tasks</p>
  </div>

  <div class="metrics-grid">
    {% include "components/metric-completion.njk" %}
    {% include "components/metric-sections.njk" %}
    {% include "components/metric-status.njk" %}
    {% include "components/metric-priority.njk" %}
    {% include "components/metric-overdue.njk" %}
    {% include "components/metric-assignees.njk" %}
  </div>
</div>
{% endif %}
