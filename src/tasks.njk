---
layout: layouts/base.njk
title: Tasks
permalink: /tasks/
---

<div class="tasks-page">
  <div class="page-header">
    <div class="page-header-top">
      <h2>Task List</h2>
      <p class="page-subtitle">{{ tasks.stats.total }} tasks sorted by section and priority</p>
    </div>
    {% include "components/filter-toggle.njk" %}
  </div>

  <div class="table-container">
    <table class="task-table">
      <thead>
        <tr>
          <th class="col-name">Name</th>
          <th class="col-completion">Progress</th>
          <th class="col-section">Section</th>
          <th class="col-assignee">Assignee</th>
          <th class="col-due">Due Date</th>
          <th class="col-priority">Priority</th>
          <th class="col-status">Status</th>
          <th class="col-tags">Tags</th>
          <th class="col-parent">Parent</th>
          <th class="col-notes">Notes</th>
          {% for fieldName in tasks.customFieldNames %}
          <th class="col-custom">{{ fieldName }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for task in tasks.all %}
        <tr class="{% if task.isOverdue %}row-overdue{% endif %} {% if task.isDone %}row-done{% endif %}">
          <td class="col-name">{{ task.name }}</td>
          <td class="col-completion">
            {% if task.isDone %}
              <span class="completion-label completion-done">Done</span>
            {% else %}
              <span class="completion-label completion-open">Open</span>
            {% endif %}
          </td>
          <td class="col-section">
            <span class="section-badge">{{ task.section }}</span>
          </td>
          <td class="col-assignee">{{ task.assignee if task.assignee != 'Unassigned' else '—' }}</td>
          <td class="col-due {% if task.isOverdue %}overdue{% endif %}">
            {{ task.dueDate if task.dueDate else '—' }}
          </td>
          <td class="col-priority">
            {% if task.priority %}
              <span class="priority-badge priority-{{ task.priority | lower }}">{{ task.priority }}</span>
            {% else %}
              —
            {% endif %}
          </td>
          <td class="col-status">
            {% if task.status %}
              <span class="status-badge status-{{ task.status | lower | replace(' ', '-') }}">{{ task.status }}</span>
            {% else %}
              —
            {% endif %}
          </td>
          <td class="col-tags">
            {% if task.tags.length > 0 %}
              {% for tag in task.tags %}
                <span class="tag-badge">{{ tag }}</span>
              {% endfor %}
            {% else %}
              —
            {% endif %}
          </td>
          <td class="col-parent">
            {% if task.parentTask %}
              <span class="parent-ref">{{ task.parentTask }}</span>
            {% else %}
              —
            {% endif %}
          </td>
          <td class="col-notes" {% if task.notes %}title="{{ task.notes }}"{% endif %}>
            {% if task.notes %}
              <span class="notes-preview">{{ task.notes | truncate(25) }}</span>
            {% else %}
              —
            {% endif %}
          </td>
          {% for fieldName in tasks.customFieldNames %}
          <td class="col-custom">
            {% if task.customFields and task.customFields[fieldName] %}
              <span class="custom-field-value">{{ task.customFields[fieldName] }}</span>
            {% else %}
              —
            {% endif %}
          </td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
